<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A repository for my thoughts"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/css/style.min.css><meta name=title property=”og:title” content="Postgres Gotcha | Haile (ሐይሌ)"><meta name=twitter:card content="summary"><meta name=twitter:title content="Postgres Gotcha | Haile (ሐይሌ)"><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta name=twitter:creator content="@hailelagi"><title>Postgres Gotcha</title></head><body><header id=banner><h2><a href=https://www.hailelagi.com/>Haile (ሐይሌ)</a></h2><nav><ul><li><a href=https://www.github.com/hailelagi title=github>github</a></li><li><a href=/notes title=notes>notes</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Postgres Gotcha</h1><time>May 31, 2024</time><meta name=twitter:card content="summary">
<meta property="og:url" content="https://www.hailelagi.com/"><meta property="og:image" content="/favicon-32x32.png"><meta itemprop=image content="/favicon-32x32.png"><meta name=twitter:image content="/favicon-32x32.png"><meta name=twitter:image:src content="/favicon-32x32.png"></header><p>general: <a href=https://rbranson.medium.com/10-things-i-hate-about-postgresql-20dbab8c2791>https://rbranson.medium.com/10-things-i-hate-about-postgresql-20dbab8c2791</a></p><ol><li>Transaction ID wrap around:</li></ol><ul><li><a href=https://blog.sentry.io/transaction-id-wraparound-in-postgres/>https://blog.sentry.io/transaction-id-wraparound-in-postgres/</a></li><li><a href=https://www.notion.so/blog/sharding-postgres-at-notion>https://www.notion.so/blog/sharding-postgres-at-notion</a></li></ul><ol start=2><li>Concurrent Indexes</li></ol><ul><li><a href=https://www.braintreepayments.com/blog/safe-operations-for-high-volume-postgresql/>https://www.braintreepayments.com/blog/safe-operations-for-high-volume-postgresql/</a></li><li><a href=https://fly.io/phoenix-files/safe-ecto-migrations/>https://fly.io/phoenix-files/safe-ecto-migrations/</a></li><li></li></ul><ol start=3><li>Replication is async and data loss is possible on fail over:</li></ol><ul><li><a href=https://wiki.postgresql.org/wiki/Streaming_Replication>https://wiki.postgresql.org/wiki/Streaming_Replication</a></li><li><a href=https://www.postgresql.org/docs/current/logical-replication-restrictions.html>https://www.postgresql.org/docs/current/logical-replication-restrictions.html</a></li><li><a href=https://www.postgresql.org/docs/16/warm-standby.html>https://www.postgresql.org/docs/16/warm-standby.html</a></li><li><a href=https://neon.tech/docs/introduction/read-replicas>https://neon.tech/docs/introduction/read-replicas</a></li></ul><ol start=4><li>Write amplification on TOAST, large indexes, large columns bad.
<a href=https://ottertune.com/blog/the-part-of-postgresql-we-hate-the-most>https://ottertune.com/blog/the-part-of-postgresql-we-hate-the-most</a></li></ol></article></main><footer id=footer><a href=https://github.com/hailelagi/blog>Copyright © 2025 Haile Lagi</a><div><span>private inquiries: hailelagi[at]gmail.com</span></div><div><span>or informally(twitter/x): https://x.com/haile_lagi</span></div></footer></body></html>