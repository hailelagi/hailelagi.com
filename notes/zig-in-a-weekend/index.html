<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A repository for my thoughts"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/css/style.min.css><meta name=title property=”og:title” content="Zig In a Weekend | Haile (ሐይሌ)"><meta name=twitter:card content="summary"><meta name=twitter:title content="Zig In a Weekend | Haile (ሐይሌ)"><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta name=twitter:creator content="@hailelagi"><title>Zig In a Weekend</title></head><body><header id=banner><h2><a href=https://www.hailelagi.com/>Haile (ሐይሌ)</a></h2><nav><ul><li><a href=/bookshelf title=bookshelf>bookshelf</a></li><li><a href=https://www.github.com/hailelagi title=github>github</a></li><li><a href=/notes title=writing>writing</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Zig In a Weekend</h1><time>May 21, 2023</time><meta name=twitter:card content="summary">
<meta property="og:url" content="https://www.hailelagi.com/"><meta property="og:image" content="/favicon-32x32.png"><meta itemprop=image content="/favicon-32x32.png"><meta name=twitter:image content="/favicon-32x32.png"><meta name=twitter:image:src content="/favicon-32x32.png"></header><h2 id=quick-start>Quick Start</h2><ul><li><a href=https://ziglearn.org/>https://ziglearn.org/</a></li><li><a href=https://gist.github.com/ityonemo/769532c2017ed9143f3571e5ac104e50>https://gist.github.com/ityonemo/769532c2017ed9143f3571e5ac104e50</a></li></ul><h2 id=katapractice>Kata/Practice</h2><ul><li>ziglings</li></ul><h3 id=wtfs>WTFs</h3><ul><li>Scoped Resource allocation</li><li>opt-in compile time evaluation via <code>comptime</code></li><li>Zig is unstable. <code>brew install zig</code> gives <code>0.10</code> which is old &ndash; Building from source sucks but is <em>required</em> to experiment with the interesting things folks are making. ~1 hour later after building and verify public keys:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>0.11.0-dev.3222+7077e90b3
</span></span></code></pre></div><ul><li>this syntax is weird <code>var variable: MyStruct = .{ values, .key=value };</code></li><li>resouce density is sparse? weird mix of unexpected prerequisites: errors are not obvious.</li><li>printing comptime values&mldr; is hard??</li><li>implicit allocation is bad?</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl><span class=c1># implicit allocations are disallowed by the compiler</span>
</span></span><span class=line><span class=cl>main.zig:18:32: error: <span class=nb>type</span> <span class=s1>&#39;main.Vector&#39;</span> does not support array initialization syntax
</span></span></code></pre></div><ul><li>looping syntax&mldr;is very weird:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-zig data-lang=zig><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>array</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>slice</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=n>value</span><span class=o>|</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// use value do thing
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=hello----hello-world>Hello &ndash; <code>hello world</code></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-zig data-lang=zig><span class=line><span class=cl><span class=kr>const</span><span class=w> </span><span class=n>std</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>@import</span><span class=p>(</span><span class=s>&#34;std&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kr>pub</span><span class=w> </span><span class=k>fn</span><span class=w> </span><span class=n>main</span><span class=p>()</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Hello, {s}!</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=s>&#34;World&#34;</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Hello cruel world</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-zig data-lang=zig><span class=line><span class=cl><span class=c1>// minimum viable zig program
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>fn</span><span class=w> </span><span class=kr>pub</span><span class=w> </span><span class=n>main</span><span class=p>()</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></div><ul><li>printing/logging</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-zig data-lang=zig><span class=line><span class=cl><span class=kr>const</span><span class=w> </span><span class=n>std</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>@import</span><span class=p>(</span><span class=s>&#34;std&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kr>var</span><span class=w> </span><span class=n>thing</span><span class=o>:</span><span class=w> </span><span class=kt>type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>value</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kr>pub</span><span class=w> </span><span class=k>fn</span><span class=w> </span><span class=n>main</span><span class=p>()</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// std.log
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>thing</span><span class=p>,</span><span class=w> </span><span class=p>.{});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=first-impressions>First Impressions</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-zig data-lang=zig><span class=line><span class=cl><span class=kr>const</span><span class=w> </span><span class=n>std</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>@import</span><span class=p>(</span><span class=s>&#34;std&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>/////////////////////
</span></span></span><span class=line><span class=cl><span class=c1>// THROWAWAY NOTES //
</span></span></span><span class=line><span class=cl><span class=c1>/////////////////////
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// struct with methods defined on `*Self` and associated by type
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span><span class=w> </span><span class=n>Vector</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>x</span><span class=o>:</span><span class=w> </span><span class=kt>f64</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>y</span><span class=o>:</span><span class=w> </span><span class=kt>f64</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>z</span><span class=o>:</span><span class=w> </span><span class=kt>f64</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>69.420</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span><span class=w> </span><span class=n>print</span><span class=p>(</span><span class=n>self</span><span class=o>:</span><span class=w> </span><span class=o>*</span><span class=n>Vector</span><span class=p>)</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>self</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span><span class=w> </span><span class=n>magnitude</span><span class=p>(</span><span class=n>self</span><span class=o>:</span><span class=w> </span><span class=o>*</span><span class=n>Vector</span><span class=p>)</span><span class=w> </span><span class=kt>f64</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kr>var</span><span class=w> </span><span class=n>change</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=n>self</span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>self</span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>y</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>self</span><span class=p>.</span><span class=n>z</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>z</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>std</span><span class=p>.</span><span class=n>math</span><span class=p>.</span><span class=n>pow</span><span class=p>(</span><span class=kt>f64</span><span class=p>,</span><span class=w> </span><span class=n>change</span><span class=p>,</span><span class=w> </span><span class=mf>0.5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span><span class=w> </span><span class=n>sum</span><span class=p>(</span><span class=n>a</span><span class=o>:</span><span class=w> </span><span class=n>Vector</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=o>:</span><span class=w> </span><span class=n>Vector</span><span class=p>)</span><span class=w> </span><span class=n>Vector</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Vector</span><span class=p>{</span><span class=w> </span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>z</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>z</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>z</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span><span class=w> </span><span class=n>iam</span><span class=p>(</span><span class=n>_</span><span class=o>:</span><span class=w> </span><span class=o>*</span><span class=n>Vector</span><span class=p>)</span><span class=w> </span><span class=n>Axiom</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kr>const</span><span class=w> </span><span class=n>rand</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=p>.</span><span class=n>crypto</span><span class=p>.</span><span class=n>random</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kr>var</span><span class=w> </span><span class=n>axiom</span><span class=o>:</span><span class=w> </span><span class=n>i8</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rand</span><span class=p>.</span><span class=n>intRangeAtMost</span><span class=p>(</span><span class=n>i8</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>@intToEnum</span><span class=p>(</span><span class=n>Axiom</span><span class=p>,</span><span class=w> </span><span class=n>axiom</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// enums
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span><span class=w> </span><span class=n>Axiom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>enum</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>Associative</span><span class=p>,</span><span class=w> </span><span class=n>Commutative</span><span class=p>,</span><span class=w> </span><span class=n>Identity</span><span class=p>,</span><span class=w> </span><span class=n>Inverse</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kr>const</span><span class=w> </span><span class=n>Errors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>error</span><span class=p>{</span><span class=n>EigenVector</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kr>pub</span><span class=w> </span><span class=k>fn</span><span class=w> </span><span class=n>main</span><span class=p>()</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// const var - var mut
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kr>const</span><span class=w> </span><span class=n>thing</span><span class=o>:</span><span class=w> </span><span class=kt>i32</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>ichange</span><span class=o>:</span><span class=w> </span><span class=kt>u32</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>50000</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// do not shadow: var ichange: u32 = 8;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>_</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ichange</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// explicit cast to type with @as
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kr>const</span><span class=w> </span><span class=n>inferred_const</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>@as</span><span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=n>thing</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>_</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inferred_const</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// fixed size array into slice
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>u8</span><span class=p>{</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// array slice
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=kt>u8</span><span class=p>{</span><span class=w> </span><span class=s>&#39;w&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&#39;o&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&#39;r&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&#39;l&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&#39;d&#39;</span><span class=p>,</span><span class=w> </span><span class=se>&#39;\n&#39;</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>c</span><span class=o>:</span><span class=w> </span><span class=p>[]</span><span class=kt>u8</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>..</span><span class=mi>3</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>_</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{*}&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>b</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// bad do not implicity initialise/alloc
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>//var point = Vector{ 0.1, 0.2 };
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// this is okay though!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>point</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Vector</span><span class=p>{</span><span class=w> </span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.2</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>point_two</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Vector</span><span class=p>{</span><span class=w> </span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.2</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.3</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>point</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>point_two</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>point</span><span class=p>.</span><span class=n>magnitude</span><span class=p>()});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>Vector</span><span class=p>.</span><span class=n>sum</span><span class=p>(</span><span class=n>point</span><span class=p>,</span><span class=w> </span><span class=n>point_two</span><span class=p>)});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>point</span><span class=p>.</span><span class=n>iam</span><span class=p>()});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>isZero</span><span class=p>(</span><span class=mi>5</span><span class=p>)});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>fitMePlease</span><span class=p>(</span><span class=mi>50</span><span class=p>)});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>fitMePlease</span><span class=p>(</span><span class=mi>512</span><span class=p>)});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>many</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>eigenVector</span><span class=p>(</span><span class=kc>false</span><span class=p>))</span><span class=w> </span><span class=o>|</span><span class=n>value</span><span class=o>|</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>value</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>|</span><span class=n>err</span><span class=o>|</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;{}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>err</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span><span class=w> </span><span class=n>isZero</span><span class=p>(</span><span class=n>x</span><span class=o>:</span><span class=w> </span><span class=kt>i32</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span><span class=w> </span><span class=n>fitMePlease</span><span class=p>(</span><span class=n>x</span><span class=o>:</span><span class=w> </span><span class=kt>f32</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>divisible</span><span class=o>:</span><span class=w> </span><span class=kt>u32</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>@floatToInt</span><span class=p>(</span><span class=kt>u32</span><span class=p>,</span><span class=w> </span><span class=nb>@divFloor</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>divisible</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>2</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>4</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>8</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>16</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>32</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>64</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>128</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=mi>256</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// for exhaustive known invariants being ignored
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=c1>// _ =&gt; true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span><span class=w> </span><span class=n>many</span><span class=p>()</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kr>var</span><span class=w> </span><span class=n>array</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=n>_</span><span class=p>]</span><span class=kt>i32</span><span class=p>{</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>array</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=n>value</span><span class=o>|</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>std</span><span class=p>.</span><span class=n>debug</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;loop: {}</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=p>.{</span><span class=n>value</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span><span class=w> </span><span class=n>eigenVector</span><span class=p>(</span><span class=n>todo</span><span class=o>:</span><span class=w> </span><span class=kt>bool</span><span class=p>)</span><span class=w> </span><span class=o>!</span><span class=kt>i32</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>todo</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Errors</span><span class=p>.</span><span class=n>EigenVector</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>69</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div></article></main><footer id=footer><a href=https://github.com/hailelagi/blog>Copyright © 2024 Haile Lagi</a><div><span>private inquiries: hailelagi[at]gmail.com</span></div><div><span>or informally(twitter/x): https://x.com/haile_lagi</span></div></footer></body></html>